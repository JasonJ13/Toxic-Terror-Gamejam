[gd_scene load_steps=13 format=3 uid="uid://p61rvjjd1k2g"]

[ext_resource type="PackedScene" uid="uid://cgno562ms3olb" path="res://entities/npc/creature/creature.tscn" id="1_2xoxk"]
[ext_resource type="Script" uid="uid://btj23sm0qwerf" path="res://tests-scripts/pathFollowCreature.gd" id="1_8bdxb"]
[ext_resource type="Environment" uid="uid://cff6swre0cgvh" path="res://scenes/test_clement/test_env.tres" id="1_qhxx4"]
[ext_resource type="PackedScene" uid="uid://ccggkqpnhhm8l" path="res://entities/decors/flickeringLight/flickering_light.tscn" id="4_y7uti"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8bdxb"]
albedo_color = Color(0.3372549, 0.27450982, 0.27058825, 0.39215687)

[sub_resource type="BoxMesh" id="BoxMesh_8bdxb"]
material = SubResource("StandardMaterial3D_8bdxb")
size = Vector3(85, 1, 75)

[sub_resource type="BoxShape3D" id="BoxShape3D_qhxx4"]
size = Vector3(75, 1, 75)

[sub_resource type="SphereMesh" id="SphereMesh_2xoxk"]
radius = 2.0
height = 4.0

[sub_resource type="SphereShape3D" id="SphereShape3D_8bdxb"]
radius = 2.0

[sub_resource type="Curve3D" id="Curve3D_2xoxk"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 4.4457073, 0, 17.68904, 0, 0, 0, 0, 0, 0, 10.981459, 6.62403, 7.354312, 0, 0, 0, 0, 0, 0, 17.494812, 0, -10.254857, 0, 0, 0, 0, 0, 0, 6.02145, 0.73809814, -18.154537, 0, 0, 0, 0, 0, 0, -6.1978884, -2.5885744, -20.568901, 0, 0, 0, 0, 0, 0, -21.018797, 0.9976177, 0, 0, 0, 0, 0, 0, 0, -10.595787, 0.9424944, 18.47942),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="BoxMesh" id="BoxMesh_qhxx4"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qhxx4"]

[node name="RagdollTest" type="Node3D"]

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.5009484, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("BoxMesh_8bdxb")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
shape = SubResource("BoxShape3D_qhxx4")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.4719315, 9.47005, 50.083218)
environment = ExtResource("1_qhxx4")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 14.402723, 0.6681216)

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
mesh = SubResource("SphereMesh_2xoxk")

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("SphereShape3D_8bdxb")

[node name="creature" parent="." node_paths=PackedStringArray("toFollow") instance=ExtResource("1_2xoxk")]
transform = Transform3D(1, -1.4901161e-08, 0, 1.4901161e-08, 1.0000001, 2.9802322e-08, 0, 2.9802322e-08, 1, 4.7683716e-07, 8.571854, 1.9073486e-06)
toFollow = NodePath("../Path3D/PathFollow3D")
followForceArm = 4.0

[node name="Physical Bone Spine" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="0"]
transform = Transform3D(1, -2.3841858e-07, -3.5386915e-15, -7.528103e-09, -0.031575136, -0.99950135, 2.3829969e-07, 0.9995014, -0.03157508, -7.833023e-11, 0.29775858, -0.09656356)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.4170223e-11, -0.00051398197, 0.27149776)
body_offset = Transform3D(1, 1.4210855e-14, 1.0658141e-14, -1.7763568e-15, -1.1175871e-08, -0.99999994, 0, 1, 4.0978193e-08, 4.4167336e-11, 0.27149773, 0.00051397085)

[node name="Physical Bone Spine_001" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="1"]
transform = Transform3D(1, -2.3843774e-07, -4.520688e-13, -7.529153e-09, -0.031575125, -0.99950135, 2.3831882e-07, 0.9995014, -0.03157507, 5.684342e-14, 0.7579813, -0.08253899)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.9338727e-14, 4.5971284e-08, 0.24397853)
body_offset = Transform3D(1, -1.91136e-11, -4.3520743e-13, -4.4675375e-13, 3.7252903e-09, -0.99999994, 1.9142021e-11, 1, 5.5879354e-08, 5.684342e-14, 0.2439785, -5.9604645e-08)

[node name="Physical Bone Spine_002" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="2"]
transform = Transform3D(1, -2.3843774e-07, -2.628868e-13, -7.528962e-09, -0.03157512, -0.99950135, 2.3831882e-07, 0.9995014, -0.031575065, 2.16329e-09, 1.2456932, -0.06713239)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.1630595e-09, 7.0162235e-07, 0.24397853)
body_offset = Transform3D(1, -1.91136e-11, -2.4602542e-13, -2.5757174e-13, 3.7252903e-09, -0.99999994, 1.9142021e-11, 1, 5.5879354e-08, 2.1631195e-09, 0.2439785, -7.1525574e-07)

[node name="Physical Bone Spine_003" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="3"]
transform = Transform3D(1, -2.3843774e-07, -4.4940427e-13, -7.52915e-09, -0.03157512, -0.99950135, 2.3831882e-07, 0.9995014, -0.031575065, 5.684342e-14, 1.7334061, -0.051724456)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.0574822e-13, 1.7986741e-08, 0.24397853)
body_offset = Transform3D(1, -1.91136e-11, -4.3343107e-13, -4.4586557e-13, -3.7252903e-09, -0.99999994, 1.9142021e-11, 1, 4.8428774e-08, 0, 0.2439785, -2.9802322e-08)

[node name="Physical Bone Neck" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="4"]
transform = Transform3D(1, -2.3841773e-07, -1.9274555e-13, 5.8133605e-09, 0.0243839, -0.9997026, 2.3834684e-07, 0.9997027, 0.024383964, 2.863203e-10, 2.1597805, -0.048461325)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8899835e-10, -1.1360125e-05, 0.18257332)
body_offset = Transform3D(1, 8.526513e-13, 3.5083048e-14, 1.8207658e-14, 8.624047e-07, -1, -8.526513e-13, 1.0000001, 9.275973e-07, 2.8899194e-10, 0.18257332, 1.1190772e-05)

[node name="Physical Bone Neck_001" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="5"]
transform = Transform3D(1, -2.3851416e-07, -2.9807376e-12, 5.8129164e-09, 0.024383867, -0.99970263, 2.384433e-07, 0.9997027, 0.024383932, 6.8905592e-09, 2.5187168, -0.057227075)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.890004e-09, -1.4684879e-07, 0.18053816)
body_offset = Transform3D(1, -9.555379e-11, -2.7609026e-12, -2.7768898e-12, 8.288771e-07, -1.0000001, 9.5568e-11, 1.0000001, 8.959323e-07, 6.8905024e-09, 0.18053818, -1.4901161e-08)

[node name="Physical Bone Head" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="6"]
transform = Transform3D(-1, 7.2489325e-15, -2.2442716e-15, 9.769963e-15, 0.9463497, -0.32314408, -2.9116758e-22, -0.32314417, -0.94634974, 5.684342e-14, 2.7332258, 0.03801403)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.3948846e-14, 1.899898e-07, 0.105292074)
body_offset = Transform3D(-1, -8.616059e-08, -2.2230559e-07, 0, 0.9324173, -0.36138362, 2.384186e-07, -0.36138374, -0.9324173, 2.3407097e-08, 0.03805065, 0.09817621)

[node name="Physical Bone arm_L" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="7"]
transform = Transform3D(-0.00588475, -0.0036599392, -0.99997604, -0.9993564, -0.035361186, 0.006010527, -0.03538228, 0.9993679, -0.0034494929, 1.0924141, 1.6117554, -0.058149226)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.142242e-07, 1.1969316e-05, 0.3741991)
body_offset = Transform3D(0.9999997, 4.0978193e-07, -3.052628e-07, -3.4444383e-07, -1.8367777e-05, -1, -3.6135316e-07, 1, -1.8367544e-05, 0, 0.3741991, -5.096197e-06)

[node name="Physical Bone arm_L_001" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="8"]
transform = Transform3D(-0.0058836224, -0.003652409, -0.99997604, -0.99935657, -0.035356723, 0.0060091177, -0.035377767, 0.9993681, -0.0034420341, 1.8430095, 1.6072826, -0.05550572)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.968032e-05, -5.748235e-05, 0.37641424)
body_offset = Transform3D(0.9999998, -3.9339066e-06, 9.930154e-07, 9.5366704e-07, -1.08643435e-05, -0.99999994, 3.9823353e-06, 1.0000001, -1.0864111e-05, -4.005432e-05, 0.37641418, 6.15716e-05)

[node name="Physical Bone arm_L_002" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="9"]
transform = Transform3D(-0.005882218, -0.003642167, -0.99997616, -0.99935627, -0.035368368, 0.006007392, -0.03538935, 0.9993677, -0.0034317789, 2.5850167, 1.6034813, -0.05291993)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0006982903, -7.786556e-05, 0.37003705)
body_offset = Transform3D(0.9999999, 7.3350966e-06, 2.0366206e-06, 1.9963409e-06, -5.713664e-07, -1.0000001, -7.286668e-06, 1.0000001, -5.713664e-07, -0.0006990433, 0.37003708, 7.8082085e-05)

[node name="Physical Bone arm_L_003" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="10"]
transform = Transform3D(-0.0058836183, -0.0036416722, -0.99997604, -0.99935627, -0.035364646, 0.006008761, -0.035385627, 0.99936783, -0.0034312566, 3.2512422, 1.5975285, -0.050533075)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0012456846, -0.0002478151, 0.2878921)
body_offset = Transform3D(0.99999976, 3.6098063e-06, 6.476912e-07, 6.075934e-07, -8.8941306e-08, -1, -3.568828e-06, 1, -8.8475645e-08, 0.0012454987, 0.2878921, 0.0002478361)

[node name="Physical Bone arm_L_004" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="11"]
transform = Transform3D(-0.0058517554, -0.0036494478, -0.9999762, -0.99935585, -0.035381638, 0.0059772516, -0.03540255, 0.99936724, -0.0034400532, 4.0899496, 1.5937653, -0.047876365)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.1507434e-05, 2.1234855e-05, 0.3782127)
body_offset = Transform3D(0.99999976, 2.0820647e-05, 3.2611242e-05, 3.257086e-05, -7.762341e-06, -1, -2.0772219e-05, 1.0000001, -7.7628065e-06, -2.3841858e-05, 0.3782127, -1.8298626e-05)

[node name="Physical Bone arm_R" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="12"]
transform = Transform3D(-0.0058982284, 0.0036567247, 0.999976, 0.9993565, -0.03535759, 0.006023871, 0.035378717, 0.999368, -0.0034458253, -1.0924141, 1.6117554, -0.058149014)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.242034e-06, 1.0566198e-05, 0.3741991)
body_offset = Transform3D(0.9999998, 3.207475e-06, 1.4008583e-05, 1.4046702e-05, -1.517497e-05, -1, -3.2559037e-06, 1, -1.5175436e-05, 0, 0.3741991, -4.887581e-06)

[node name="Physical Bone arm_R_001" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="13"]
transform = Transform3D(-0.0058843265, 0.0036415672, 0.9999761, 0.99935645, -0.035360776, 0.006009452, 0.035381753, 0.999368, -0.0034311498, -1.8433313, 1.6066427, -0.05561209)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0006008287, 2.3304889e-05, 0.3767395)
body_offset = Transform3D(0.99999994, -5.5879354e-08, -3.6547135e-08, 1.877197e-09, 1.1641532e-09, -1, 0, 1.0000001, 1.3969839e-09, -0.0006008148, 0.3767395, -2.3305416e-05)

[node name="Physical Bone arm_R_002" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="14"]
transform = Transform3D(-0.005891135, 0.0036428738, 0.9999761, 0.99935645, -0.035361044, 0.0060163033, 0.03538206, 0.999368, -0.0034322133, -2.5144987, 1.6027613, -0.053018875)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00043656596, -0.00026103016, 0.29952475)
body_offset = Transform3D(0.9999999, -7.450581e-09, 7.0921815e-06, 7.1310424e-06, -1.3213139e-06, -1.0000001, -4.4703484e-08, 1.0000001, -1.3213139e-06, -0.0004386902, 0.29952478, 0.00026142597)

[node name="Physical Bone arm_R_003" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="15"]
transform = Transform3D(-0.0058843065, 0.0036450012, 0.99997604, 0.99935645, -0.03536105, 0.006009554, 0.035382055, 0.99936795, -0.003434581, -3.3366587, 1.5983934, -0.05044774)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00012503036, 9.837102e-06, 0.37330174)
body_offset = Transform3D(0.9999998, -3.3527613e-08, 2.6517955e-07, 3.0385127e-07, -3.4391414e-06, -1, -1.4901161e-08, 1, -3.4391414e-06, 0.00012493134, 0.37330174, -8.5532665e-06)

[node name="Physical Bone arm_R_004" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="16"]
transform = Transform3D(-0.005881414, 0.0036810068, 0.9999759, 0.99935615, -0.035370797, 0.0060079703, 0.03539201, 0.99936754, -0.0034706069, -4.085936, 1.5937653, -0.047872666)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.0304312e-06, 1.4737719e-05, 0.3741994)
body_offset = Transform3D(0.9999999, -1.0158867e-05, -2.7532951e-06, -2.7145288e-06, -3.9384468e-05, -1, 1.0114163e-05, 1.0000001, -3.93847e-05, 0, 0.3741994, 0)

[node name="Physical Bone tail" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="17"]
transform = Transform3D(1, 4.7683713e-07, 4.42687e-15, -1.5056198e-08, 0.03157513, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575073, 3.1100683e-08, -0.51117706, -0.22681369)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.6369665e-09, 0.0015208425, 0.5675593)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, 6.6369807e-09, 0.56755924, -0.0015208721)

[node name="Physical Bone tail_001" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="18"]
transform = Transform3D(1, 4.7683713e-07, 6.2032267e-15, -1.5056196e-08, 0.03157512, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575065, 2.4661688e-08, -1.6461673, -0.26418874)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.262989e-10, 1.8777397e-06, 0.5677214)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, -5.262848e-10, 0.56772137, -1.9073486e-06)

[node name="Physical Bone tail_002" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="19"]
transform = Transform3D(1, 4.7683713e-07, 6.2032267e-15, -1.5056196e-08, 0.03157512, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575065, 1.875236e-08, -2.7810025, -0.3015691)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.164786e-09, -0.0015272794, 0.5677286)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, -7.164772e-09, 0.5677285, 0.0015272498)

[node name="Physical Bone tail_003" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="20"]
transform = Transform3D(1, 4.7683713e-07, 6.2032267e-15, -1.5056196e-08, 0.03157512, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575065, 2.518891e-08, -3.915921, -0.3358954)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.825528e-13, -1.2813065e-06, 0.5677214)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, -5.684342e-13, 0.56772137, 1.2516975e-06)

[node name="Physical Bone tail_004" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="21"]
transform = Transform3D(1, 4.7683713e-07, 7.979584e-15, -1.5056195e-08, 0.031575114, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575058, 2.7642045e-08, -5.0507965, -0.36978564)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.3873988e-09, 0.001959175, 0.56765896)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, 3.387413e-09, 0.5676589, -0.0019592047)

[node name="Physical Bone tail_005" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="22"]
transform = Transform3D(1, 4.7683713e-07, 6.2032267e-15, -1.5056196e-08, 0.03157512, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575065, 2.5474776e-08, -6.1856966, -0.40552974)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2717436e-09, 0.0020675363, 0.5676798)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, 1.2717578e-09, 0.56767976, -0.002067566)

[node name="Physical Bone tail_006" parent="creature/Armature/Skeleton3D/PhysicalBoneSimulator3D" index="23"]
transform = Transform3D(1, 4.7683713e-07, 6.2032267e-15, -1.5056196e-08, 0.03157512, 0.99950135, 4.7659938e-07, -0.9995014, 0.031575065, 2.5914403e-08, -7.3202815, -0.444965)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.098777e-13, -0.0015234349, 0.56750077)
body_offset = Transform3D(1, -2.842171e-14, -2.4868996e-14, 0, 0, -0.99999994, 0, 1, 5.2154064e-08, -7.9580786e-13, 0.5675007, 0.0015234053)

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_2xoxk")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(0.8451724, -0.25458595, -0.46996376, 0, 0.87927264, -0.47631162, 0.53449273, 0.4025668, 0.7431352, 4.4457073, 0, 17.68904)
script = ExtResource("1_8bdxb")
speed_fact = 0.1

[node name="Objectif" type="MeshInstance3D" parent="Path3D/PathFollow3D"]
mesh = SubResource("BoxMesh_qhxx4")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("1_qhxx4")

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.263939, 2.9970284, 0)
use_collision = true
size = Vector3(20, 20, 10)
material = SubResource("StandardMaterial3D_qhxx4")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
operation = 2
radius = 5.0
height = 10.0
sides = 16

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.04077706, -0.9991683, 0, 0.9991683, 0.04077706, 0, 0, 0, 1, 0, 0, 0)
light_energy = 0.5

[node name="FlickeringLight" parent="." instance=ExtResource("4_y7uti")]
transform = Transform3D(0.99770564, 0.00084956735, -0.06769652, 0.05799284, -0.52667886, 0.84808385, -0.03493382, -0.8500639, -0.5255197, -20.270561, 8.375913, 5.405064)

[editable path="creature"]
